<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlAdhan Display</title>

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/all.min.css">
    <link rel="stylesheet" href="css/style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Rubik:ital,wght@0,300..900;1,300..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">

    <!-- <script src="node_modules/axios/dist/axios.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script> -->

</head>

<body>
    <div class="second-page">
        <div class="container">
            <div class="head">
                <div class="icon">
                    <img src="images/bio.jpg" alt="">
                    <h1>Prayer <p>times</p>
                    </h1>
                </div>
                <div class="info">
                    <p>Port Said</p>
                    <span>October 12, 2024</span>
                </div>
            </div>
            <div class="card">
                <div class="box fajr">
                    <div>
                        <img src="images/fajr.png" alt="">
                    </div>
                    <h3>Fajr</h3>
                    <p>04:20 AM</p>
                </div>
                <div class="box dhuhr">
                    <div>
                        <img src="images/dhuhr.png" alt="">
                    </div>
                    <h3>dhuhr</h3>
                    <p>04:20 AM</p>
                </div>
                <div class="box asr">
                    <div>
                        <img src="images/asr.png" alt="">
                    </div>
                    <h3>asr</h3>
                    <p>04:20 AM</p>
                </div>
                <div class="box maghrib">
                    <div>
                        <img src="images/sunset.png" alt="">
                    </div>
                    <h3>maghrib</h3>
                    <p>04:20 AM</p>
                </div>
                <div class="box isha">
                    <div>
                        <img src="images/isha.png" alt="">
                    </div>
                    <h3>Isha</h3>
                    <p>04:20 AM</p>
                </div>

            </div>
        </div>
    </div>
    <!-- <script src="main.js"></script> -->
    <script>
        // using fetch
        function prayer(city, country) {

            fetch(`https://api.aladhan.com/v1/timingsByCity/today?city=${city}&country=${country}&method=5`)
                .then(response => response.json())
                .then(response => {
                    console.log(response.data);
                    let day = response.data.date;
                    let prayerData = response.data.timings;

                    let fajr = document.querySelector(".fajr p")
                    fajr.innerHTML = prayerData.Fajr;

                    let dhuhr = document.querySelector(".dhuhr p")
                    dhuhr.innerHTML = prayerData.Dhuhr;

                    let asr = document.querySelector(".asr p")
                    asr.innerHTML = prayerData.Asr;

                    let maghrib = document.querySelector(".maghrib p")
                    maghrib.innerHTML = prayerData.Maghrib;

                    let isha = document.querySelector(".isha p")
                    isha.innerHTML = prayerData.Isha;

                    let date = document.querySelector(".info span");
                    date.innerHTML = day.readable;

                    let place = document.querySelector(".info p");
                    place.innerHTML = city;

                })
        }

        let city = window.sessionStorage.getItem("city");
        let country = window.sessionStorage.getItem("country");

        if (city && country) {
            prayer(city, country);
        } else {
            document.getElementById("prayerTimes").innerText = "City and country information not available.";
        }

          // using Axios
        
        // function prayer(city, country) {

        //     axios.get(`http://api.aladhan.com/v1/timingsByCity/today?city=${city}&country=${country}&method=5`)
        //         .then(response => {
        //             console.log(response.data.data);
        //             let day = response.data.data.date;
        //             let prayerData = response.data.data.timings;

        //             let fajr = document.querySelector(".fajr p")
        //             fajr.innerHTML = prayerData.Fajr;

        //             let dhuhr = document.querySelector(".dhuhr p")
        //             dhuhr.innerHTML = prayerData.Dhuhr;

        //             let asr = document.querySelector(".asr p")
        //             asr.innerHTML = prayerData.Asr;

        //             let maghrib = document.querySelector(".maghrib p")
        //             maghrib.innerHTML = prayerData.Maghrib;

        //             let isha = document.querySelector(".isha p")
        //             isha.innerHTML = prayerData.Isha;

        //             let date = document.querySelector(".info span");
        //             date.innerHTML = day.readable;

        //             let place = document.querySelector(".info p");
        //             place.innerHTML = city;

        //         })
        //         .catch(error => {
        //             console.error("There was an error fetching the data:", error);
        //         });
        // }
    </script>
</body>

</html>